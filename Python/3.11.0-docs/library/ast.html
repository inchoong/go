
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ast --- 抽象语法树 &#8212; Python 3.11.0 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?2022.1" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.11.0 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于这些文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权所有" href="../copyright.html" />
    <link rel="next" title="symtable ——访问编译器的符号表" href="symtable.html" />
    <link rel="prev" title="Python 语言服务" href="language.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/ast.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="快速搜索"/>
            <input type="submit" value="转向"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象语法树</a><ul>
<li><a class="reference internal" href="#abstract-grammar">抽象文法</a></li>
<li><a class="reference internal" href="#node-classes">节点类</a><ul>
<li><a class="reference internal" href="#literals">字面值</a></li>
<li><a class="reference internal" href="#variables">变量</a></li>
<li><a class="reference internal" href="#expressions">表达式</a><ul>
<li><a class="reference internal" href="#subscripting">抽取</a></li>
<li><a class="reference internal" href="#comprehensions">推导式</a></li>
</ul>
</li>
<li><a class="reference internal" href="#statements">语句</a><ul>
<li><a class="reference internal" href="#imports">导入</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-flow">控制流</a></li>
<li><a class="reference internal" href="#pattern-matching">模式匹配</a></li>
<li><a class="reference internal" href="#function-and-class-definitions">函数与类定义</a></li>
<li><a class="reference internal" href="#async-and-await">async 与 await</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ast-helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> 中的辅助函数</a></li>
<li><a class="reference internal" href="#compiler-flags">编译器旗标</a></li>
<li><a class="reference internal" href="#command-line-usage">命令行用法</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="language.html"
                          title="上一章">Python 语言服务</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="symtable.html"
                          title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code> ——访问编译器的符号表</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">提交 Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/ast.rst"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="symtable.html" title="symtable ——访问编译器的符号表"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="language.html" title="Python 语言服务"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="language.html" accesskey="U">Python 语言服务</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象语法树</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-ast">
<span id="ast-abstract-syntax-trees"></span><h1><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> --- 抽象语法树<a class="headerlink" href="#module-ast" title="永久链接至标题">¶</a></h1>
<p><strong>源代码：</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/ast.py">Lib/ast.py</a></p>
<hr class="docutils" />
<p><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模块帮助 Python 程序处理 Python 语法的抽象语法树。抽象语法或许会随着 Python 的更新发布而改变；该模块能够帮助理解当前语法在编程层面的样貌。</p>
<p>抽象语法树可通过将 <a class="reference internal" href="#ast.PyCF_ONLY_AST" title="ast.PyCF_ONLY_AST"><code class="xref py py-data docutils literal notranslate"><span class="pre">ast.PyCF_ONLY_AST</span></code></a> 作为旗标传递给 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 内置函数来生成，或是使用此模块中提供的 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> 辅助函数。返回结果将是一个对象树，，其中的类都继承自 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a>。抽象语法树可被内置的 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 函数编译为一个 Python 代码对象。</p>
<section id="abstract-grammar">
<span id="id1"></span><h2>抽象文法<a class="headerlink" href="#abstract-grammar" title="永久链接至标题">¶</a></h2>
<p>抽象文法目前定义如下</p>
<div class="highlight-asdl notranslate"><div class="highlight"><pre><span></span><span class="c c-Singleline">-- ASDL&#39;s 4 builtin types are:</span>
<span class="c c-Singleline">-- identifier, int, string, constant</span>

<span class="k">module</span> <span class="nt">Python</span>
<span class="p">{</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="nc">Module</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">type_ignore</span><span class="o">* </span><span class="n">type_ignores</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">Interactive</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">Expression</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">body</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">FunctionType</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">argtypes</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">returns</span><span class="p">)</span>

    <span class="n">stmt</span> <span class="o">=</span> <span class="nc">FunctionDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>,
                       <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">returns</span>,
                       <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncFunctionDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>,
                             <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">returns</span>,
                             <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">ClassDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>,
             <span class="bp">expr</span><span class="o">* </span><span class="n">bases</span>,
             <span class="bp">keyword</span><span class="o">* </span><span class="n">keywords</span>,
             <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>,
             <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Return</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">value</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Delete</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">targets</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Assign</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">targets</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AugAssign</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">operator</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
          <span class="c c-Singleline">-- &#39;simple&#39; indicates that we annotate simple name without parens</span>
          <span class="o">|</span> <span class="nc">AnnAssign</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">annotation</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">value</span>, <span class="bp">int</span><span class="o"> </span><span class="n">simple</span><span class="p">)</span>

          <span class="c c-Singleline">-- use &#39;orelse&#39; because else is a keyword in target languages</span>
          <span class="o">|</span> <span class="nc">For</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncFor</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">While</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">If</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">With</span><span class="p">(</span><span class="bp">withitem</span><span class="o">* </span><span class="n">items</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncWith</span><span class="p">(</span><span class="bp">withitem</span><span class="o">* </span><span class="n">items</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Match</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">subject</span>, <span class="bp">match_case</span><span class="o">* </span><span class="n">cases</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Raise</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">exc</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">cause</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Try</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">excepthandler</span><span class="o">* </span><span class="n">handlers</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">finalbody</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">TryStar</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">excepthandler</span><span class="o">* </span><span class="n">handlers</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">finalbody</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Assert</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">msg</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Import</span><span class="p">(</span><span class="bp">alias</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">ImportFrom</span><span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">module</span>, <span class="bp">alias</span><span class="o">* </span><span class="n">names</span>, <span class="bp">int</span><span class="o">? </span><span class="n">level</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Global</span><span class="p">(</span><span class="bp">identifier</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Nonlocal</span><span class="p">(</span><span class="bp">identifier</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Expr</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Pass</span> <span class="o">|</span> <span class="nc">Break</span> <span class="o">|</span> <span class="nc">Continue</span>

          <span class="c c-Singleline">-- col_offset is the byte offset in the utf8 string the parser uses</span>
          <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

          <span class="c c-Singleline">-- BoolOp() can use left &amp; right?</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="nc">BoolOp</span><span class="p">(</span><span class="bp">boolop</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">NamedExpr</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">BinOp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">left</span>, <span class="bp">operator</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">right</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">UnaryOp</span><span class="p">(</span><span class="bp">unaryop</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">operand</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Lambda</span><span class="p">(</span><span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">body</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">IfExp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">body</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">orelse</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Dict</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">keys</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Set</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">ListComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">SetComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">DictComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">key</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">GeneratorExp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="c c-Singleline">-- the grammar constrains where yield expressions can occur</span>
         <span class="o">|</span> <span class="nc">Await</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Yield</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">YieldFrom</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="c c-Singleline">-- need sequences for compare to distinguish between</span>
         <span class="c c-Singleline">-- x &lt; 4 &lt; 3 and (x &lt; 4) &lt; 3</span>
         <span class="o">|</span> <span class="nc">Compare</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">left</span>, <span class="bp">cmpop</span><span class="o">* </span><span class="n">ops</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">comparators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Call</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">func</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">args</span>, <span class="bp">keyword</span><span class="o">* </span><span class="n">keywords</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">FormattedValue</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">int</span><span class="o"> </span><span class="n">conversion</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">format_spec</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">JoinedStr</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Constant</span><span class="p">(</span><span class="bp">constant</span><span class="o"> </span><span class="n">value</span>, <span class="bp">string</span><span class="o">? </span><span class="n">kind</span><span class="p">)</span>

         <span class="c c-Singleline">-- the following expression can appear in assignment context</span>
         <span class="o">|</span> <span class="nc">Attribute</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">identifier</span><span class="o"> </span><span class="n">attr</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Subscript</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">slice</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Starred</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Name</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">id</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">List</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Tuple</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>

         <span class="c c-Singleline">-- can appear only in Subscript</span>
         <span class="o">|</span> <span class="nc">Slice</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">lower</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">upper</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">step</span><span class="p">)</span>

          <span class="c c-Singleline">-- col_offset is the byte offset in the utf8 string the parser uses</span>
          <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">expr_context</span> <span class="o">=</span> <span class="nc">Load</span> <span class="o">|</span> <span class="nc">Store</span> <span class="o">|</span> <span class="nc">Del</span>

    <span class="n">boolop</span> <span class="o">=</span> <span class="nc">And</span> <span class="o">|</span> <span class="nc">Or</span>

    <span class="n">operator</span> <span class="o">=</span> <span class="nc">Add</span> <span class="o">|</span> <span class="nc">Sub</span> <span class="o">|</span> <span class="nc">Mult</span> <span class="o">|</span> <span class="nc">MatMult</span> <span class="o">|</span> <span class="nc">Div</span> <span class="o">|</span> <span class="nc">Mod</span> <span class="o">|</span> <span class="nc">Pow</span> <span class="o">|</span> <span class="nc">LShift</span>
                 <span class="o">|</span> <span class="nc">RShift</span> <span class="o">|</span> <span class="nc">BitOr</span> <span class="o">|</span> <span class="nc">BitXor</span> <span class="o">|</span> <span class="nc">BitAnd</span> <span class="o">|</span> <span class="nc">FloorDiv</span>

    <span class="n">unaryop</span> <span class="o">=</span> <span class="nc">Invert</span> <span class="o">|</span> <span class="nc">Not</span> <span class="o">|</span> <span class="nc">UAdd</span> <span class="o">|</span> <span class="nc">USub</span>

    <span class="n">cmpop</span> <span class="o">=</span> <span class="nc">Eq</span> <span class="o">|</span> <span class="nc">NotEq</span> <span class="o">|</span> <span class="nc">Lt</span> <span class="o">|</span> <span class="nc">LtE</span> <span class="o">|</span> <span class="nc">Gt</span> <span class="o">|</span> <span class="nc">GtE</span> <span class="o">|</span> <span class="nc">Is</span> <span class="o">|</span> <span class="nc">IsNot</span> <span class="o">|</span> <span class="nc">In</span> <span class="o">|</span> <span class="nc">NotIn</span>

    <span class="n">comprehension</span> <span class="o">=</span> <span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">ifs</span>, <span class="bp">int</span><span class="o"> </span><span class="n">is_async</span><span class="p">)</span>

    <span class="n">excepthandler</span> <span class="o">=</span> <span class="nc">ExceptHandler</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">type</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">name</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>
                    <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span><span class="bp">arg</span><span class="o">* </span><span class="n">posonlyargs</span>, <span class="bp">arg</span><span class="o">* </span><span class="n">args</span>, <span class="bp">arg</span><span class="o">? </span><span class="n">vararg</span>, <span class="bp">arg</span><span class="o">* </span><span class="n">kwonlyargs</span>,
                 <span class="bp">expr</span><span class="o">* </span><span class="n">kw_defaults</span>, <span class="bp">arg</span><span class="o">? </span><span class="n">kwarg</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">defaults</span><span class="p">)</span>

    <span class="n">arg</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">arg</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">annotation</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
           <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="c c-Singleline">-- keyword arguments supplied to call (NULL identifier for **kwargs)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">arg</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
               <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="c c-Singleline">-- import name with optional &#39;as&#39; alias.</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">asname</span><span class="p">)</span>
             <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">withitem</span> <span class="o">=</span> <span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">context_expr</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">optional_vars</span><span class="p">)</span>

    <span class="n">match_case</span> <span class="o">=</span> <span class="p">(</span><span class="bp">pattern</span><span class="o"> </span><span class="n">pattern</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">guard</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>

    <span class="n">pattern</span> <span class="o">=</span> <span class="nc">MatchValue</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchSingleton</span><span class="p">(</span><span class="bp">constant</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchSequence</span><span class="p">(</span><span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchMapping</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">keys</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">rest</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchClass</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">cls</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span>, <span class="bp">identifier</span><span class="o">* </span><span class="n">kwd_attrs</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">kwd_patterns</span><span class="p">)</span>

            <span class="o">|</span> <span class="nc">MatchStar</span><span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">name</span><span class="p">)</span>
            <span class="c c-Singleline">-- The optional &quot;rest&quot; MatchMapping parameter handles capturing extra mapping keys</span>

            <span class="o">|</span> <span class="nc">MatchAs</span><span class="p">(</span><span class="bp">pattern</span><span class="o">? </span><span class="n">pattern</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">name</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchOr</span><span class="p">(</span><span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span><span class="p">)</span>

             <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">type_ignore</span> <span class="o">=</span> <span class="nc">TypeIgnore</span><span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">string</span><span class="o"> </span><span class="n">tag</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="node-classes">
<h2>节点类<a class="headerlink" href="#node-classes" title="永久链接至标题">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AST</span></span><a class="headerlink" href="#ast.AST" title="永久链接至目标">¶</a></dt>
<dd><p>This is the base of all AST node classes.  The actual node classes are
derived from the <code class="file docutils literal notranslate"><span class="pre">Parser/Python.asdl</span></code> file, which is reproduced
<a class="reference internal" href="#abstract-grammar"><span class="std std-ref">above</span></a>.  They are defined in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">_ast</span></code> C
module and re-exported in <a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a>.</p>
<p>抽象语法定义的每个左侧符号(比方说，  <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.stmt</span></code> 或者 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code>)定义了一个类。另外，在抽象语法定义的右侧，对每一个构造器也定义了一个类；这些类继承自树左侧的类。比如，<a class="reference internal" href="#ast.BinOp" title="ast.BinOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.BinOp</span></code></a> 继承自 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code>。对于多分支产生式(也就是&quot;和规则&quot;)，树右侧的类是抽象的；只有特定构造器结点的实例能被构造。</p>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><dl class="py attribute">
<dt class="sig sig-object py" id="ast.AST._fields">
<span class="sig-name descname"><span class="pre">_fields</span></span><a class="headerlink" href="#ast.AST._fields" title="永久链接至目标">¶</a></dt>
<dd><p>每个具体类都有个属性 <a class="reference internal" href="#ast.AST._fields" title="ast.AST._fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_fields</span></code></a>, 用来给出所有子节点的名字。</p>
<p>每个具体类的实例对它每个子节点都有一个属性，对应类型如文法中所定义。比如，<a class="reference internal" href="#ast.BinOp" title="ast.BinOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.BinOp</span></code></a> 的实例有个属性 <code class="xref py py-attr docutils literal notranslate"><span class="pre">left</span></code>，类型是 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code>.</p>
<p>如果这些属性在文法中标记为可选（使用问号），对应值可能会是 <code class="docutils literal notranslate"><span class="pre">None</span></code>。如果这些属性有零或多个（用星号标记），对应值会用Python的列表来表示。所有可能的属性必须在用 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 编译得到AST时给出，且是有效的值。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ast.AST.lineno">
<span class="sig-name descname"><span class="pre">lineno</span></span><a class="headerlink" href="#ast.AST.lineno" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.col_offset">
<span class="sig-name descname"><span class="pre">col_offset</span></span><a class="headerlink" href="#ast.AST.col_offset" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.end_lineno">
<span class="sig-name descname"><span class="pre">end_lineno</span></span><a class="headerlink" href="#ast.AST.end_lineno" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.end_col_offset">
<span class="sig-name descname"><span class="pre">end_col_offset</span></span><a class="headerlink" href="#ast.AST.end_col_offset" title="永久链接至目标">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.stmt</span></code> 子类的实例有 <a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a>、<a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a>、<a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 属性。<a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 是源代码的第一行行数和最后一行行数（从1开始, 所以第一行行数是1），而 <a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_col_offset" title="ast.AST.end_col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code></a> 是该生成节点第一个和最后一个 token 的 UTF-8 字节偏移量。记录下 UTF-8 偏移量的原因是 parser 内部使用 UTF-8 。</p>
<p>注意编译器不需要结束位置，所以结束位置是可选的。结束偏移在最后一个符号*之后*，例如你可以通过 <code class="docutils literal notranslate"><span class="pre">source_line[node.col_offset</span> <span class="pre">:</span> <span class="pre">node.end_col_offset]</span></code> 获得一个单行表达式节点的源码片段。</p>
</dd></dl>

<p>一个类的构造器 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.T</span></code> 像下面这样parse它的参数。</p>
<ul class="simple">
<li><p>如果有位置参数，它们必须和 <code class="xref py py-attr docutils literal notranslate"><span class="pre">T._fields</span></code> 中的元素一样多；他们会像这些名字的属性一样被赋值。</p></li>
<li><p>如果有关键字参数，它们必须被设为和给定值同名的属性。</p></li>
</ul>
<p>比方说，要创建和填充节点 <a class="reference internal" href="#ast.UnaryOp" title="ast.UnaryOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.UnaryOp</span></code></a>，你得用</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">UnaryOp</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">op</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">USub</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">Constant</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">col_offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">col_offset</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>或者更紧凑点</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">UnaryOp</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">USub</span><span class="p">(),</span> <span class="n">ast</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">lineno</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
                   <span class="n">lineno</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">在 3.8 版更改: </span>类 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Constant</span></code></a> 现在用于所有常量。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版更改: </span>简单索引由它们的值表示，扩展切片表示为元组。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">3.8 版后已移除: </span>旧的类 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Num</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Str</span></code>、 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Bytes</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NameConstant</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Ellipsis</span></code> 仍然有效，但是它们会在未来的 Python 版本中被移除。同时，实例化它们会返回一个不同类的实例。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">3.9 版后已移除: </span>旧的类 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Index</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.ExtSlice</span></code> 仍然有效，但是它们会在未来的 Python 版本中被移除。同时，实例化它们会返回一个不同类的实例。</p>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>在此显示的特定节点类的描述最初是改编自杰出的 <a class="reference external" href="https://greentreesnakes.readthedocs.io/en/latest/">Green Tree Snakes</a> 项目及其所有贡献者。</p>
</div>
<section id="literals">
<h3>字面值<a class="headerlink" href="#literals" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Constant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Constant" title="永久链接至目标">¶</a></dt>
<dd><p>一个常量。 <code class="docutils literal notranslate"><span class="pre">Constant</span></code> 字面值的 <code class="docutils literal notranslate"><span class="pre">value</span></code> 属性即为其代表的 Python 对象。它可以代表简单的数字，字符串或者 <code class="docutils literal notranslate"><span class="pre">None</span></code> 对象，但是也可以代表所有元素都是常量的不可变容器（例如元组或冻结集合）。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Constant(value=123))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.FormattedValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FormattedValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.FormattedValue" title="永久链接至目标">¶</a></dt>
<dd><p>节点是以一个 f-字符串形式的格式化字段来代表的。 如果该字符串只包含单个格式化字段而没有任何其他内容则节点可以被隔离，否则它将在 <a class="reference internal" href="#ast.JoinedStr" title="ast.JoinedStr"><code class="xref py py-class docutils literal notranslate"><span class="pre">JoinedStr</span></code></a> 中出现。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> 为任意的表达式节点（如一个字面值、变量或函数调用）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conversion</span></code> 是一个整数:</p>
<ul>
<li><p>-1: 无格式化</p></li>
<li><p>115: <code class="docutils literal notranslate"><span class="pre">!s</span></code> 字符串格式化</p></li>
<li><p>114: <code class="docutils literal notranslate"><span class="pre">!r</span></code> repr 格式化</p></li>
<li><p>97: <code class="docutils literal notranslate"><span class="pre">!a</span></code> ascii 格式化</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_spec</span></code> 是一个代表值的格式化的 <a class="reference internal" href="#ast.JoinedStr" title="ast.JoinedStr"><code class="xref py py-class docutils literal notranslate"><span class="pre">JoinedStr</span></code></a> 节点，或者如果未指定格式则为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。 <code class="docutils literal notranslate"><span class="pre">conversion</span></code> 和 <code class="docutils literal notranslate"><span class="pre">format_spec</span></code> 可以被同时设置。</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.JoinedStr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">JoinedStr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.JoinedStr" title="永久链接至目标">¶</a></dt>
<dd><p>一个 f-字符串，由一系列 <a class="reference internal" href="#ast.FormattedValue" title="ast.FormattedValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">FormattedValue</span></code></a> 和 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a> 节点组成。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;f&quot;sin(</span><span class="si">{a}</span><span class="s1">) is {sin(a):.3}&quot;&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=JoinedStr(</span>
<span class="go">        values=[</span>
<span class="go">            Constant(value=&#39;sin(&#39;),</span>
<span class="go">            FormattedValue(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                conversion=-1),</span>
<span class="go">            Constant(value=&#39;) is &#39;),</span>
<span class="go">            FormattedValue(</span>
<span class="go">                value=Call(</span>
<span class="go">                    func=Name(id=&#39;sin&#39;, ctx=Load()),</span>
<span class="go">                    args=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Load())],</span>
<span class="go">                    keywords=[]),</span>
<span class="go">                conversion=-1,</span>
<span class="go">                format_spec=JoinedStr(</span>
<span class="go">                    values=[</span>
<span class="go">                        Constant(value=&#39;.3&#39;)]))]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.List">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">List</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.List" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Tuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Tuple" title="永久链接至目标">¶</a></dt>
<dd><p>一个列表或元组。 <code class="docutils literal notranslate"><span class="pre">elts</span></code> 保存一个代表元素的节点的列表。 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 在容器为赋值的目标时 (如 <code class="docutils literal notranslate"><span class="pre">(x,y)=something</span></code>) 是 <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a>，否则是 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=List(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)],</span>
<span class="go">        ctx=Load()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(1, 2, 3)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Tuple(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)],</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Set">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Set" title="永久链接至目标">¶</a></dt>
<dd><p>一个集合。 <code class="docutils literal notranslate"><span class="pre">elts</span></code> 保存一个代表集合的元组的节点的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{1, 2, 3}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Set(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Dict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Dict" title="永久链接至目标">¶</a></dt>
<dd><p>一个字典。 <code class="docutils literal notranslate"><span class="pre">keys</span></code> 和 <code class="docutils literal notranslate"><span class="pre">values</span></code> 保存分别代表键和值的节点的列表，按照匹配的顺序（即当调用 <code class="code docutils literal notranslate"><span class="pre">dictionary.keys()</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">dictionary.values()</span></code> 时将返回的结果）。</p>
<p>当使用字典字面值进行字典解包操作时要扩展的表达式放入 <code class="docutils literal notranslate"><span class="pre">values</span></code> 列表，并将 <code class="docutils literal notranslate"><span class="pre">None</span></code> 放入 <code class="docutils literal notranslate"><span class="pre">keys</span></code> 的对应位置。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;:1, **d}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Dict(</span>
<span class="go">        keys=[</span>
<span class="go">            Constant(value=&#39;a&#39;),</span>
<span class="go">            None],</span>
<span class="go">        values=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Name(id=&#39;d&#39;, ctx=Load())]))</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="variables">
<h3>变量<a class="headerlink" href="#variables" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Name">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Name" title="永久链接至目标">¶</a></dt>
<dd><p>一个变量名。 <code class="docutils literal notranslate"><span class="pre">id</span></code> 将名称保存为字符串，而 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 为下列类型之一。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Load">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Load</span></span><a class="headerlink" href="#ast.Load" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Store">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Store</span></span><a class="headerlink" href="#ast.Store" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Del">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Del</span></span><a class="headerlink" href="#ast.Del" title="永久链接至目标">¶</a></dt>
<dd><p>变量引用可被用来载入一个变量的值，为其赋一个新值，或是将其删除。 变量引用会给出一个上下文来区分这几种情况。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Name(id=&#39;a&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;del a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Delete(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Del())])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Starred">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Starred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Starred" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">*var</span></code> 变量引用。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 保存变量，通常为一个 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点。 此类型必须在构建 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 节点并传入 <code class="docutils literal notranslate"><span class="pre">*args</span></code> 时被使用。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a, *b = it&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                        Starred(</span>
<span class="go">                            value=Name(id=&#39;b&#39;, ctx=Store()),</span>
<span class="go">                            ctx=Store())],</span>
<span class="go">                    ctx=Store())],</span>
<span class="go">            value=Name(id=&#39;it&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="expressions">
<h3>表达式<a class="headerlink" href="#expressions" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Expr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Expr" title="永久链接至目标">¶</a></dt>
<dd><p>当一个表达式，例如函数调用，本身作为一个语句出现并且其返回值未被使用或存储时，它会被包装在此容器中。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 保存本节中的其他节点之一，一个 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a>, <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, <a class="reference internal" href="#ast.Lambda" title="ast.Lambda"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lambda</span></code></a>, <a class="reference internal" href="#ast.Yield" title="ast.Yield"><code class="xref py py-class docutils literal notranslate"><span class="pre">Yield</span></code></a> 或者 <a class="reference internal" href="#ast.YieldFrom" title="ast.YieldFrom"><code class="xref py py-class docutils literal notranslate"><span class="pre">YieldFrom</span></code></a> 节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=UnaryOp(</span>
<span class="go">                op=USub(),</span>
<span class="go">                operand=Name(id=&#39;a&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.UnaryOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">UnaryOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operand</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.UnaryOp" title="永久链接至目标">¶</a></dt>
<dd><p>一个单目运算。 <code class="docutils literal notranslate"><span class="pre">op</span></code> 是运算符，而 <code class="docutils literal notranslate"><span class="pre">operand</span></code> 是任意表达式节点。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.UAdd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">UAdd</span></span><a class="headerlink" href="#ast.UAdd" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.USub">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">USub</span></span><a class="headerlink" href="#ast.USub" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Not">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Not</span></span><a class="headerlink" href="#ast.Not" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Invert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Invert</span></span><a class="headerlink" href="#ast.Invert" title="永久链接至目标">¶</a></dt>
<dd><p>单目运算符对应的形符。 <a class="reference internal" href="#ast.Not" title="ast.Not"><code class="xref py py-class docutils literal notranslate"><span class="pre">Not</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">not</span></code> 关键字，<a class="reference internal" href="#ast.Invert" title="ast.Invert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Invert</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">~</span></code> 运算符。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;not x&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=UnaryOp(</span>
<span class="go">        op=Not(),</span>
<span class="go">        operand=Name(id=&#39;x&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.BinOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BinOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.BinOp" title="永久链接至目标">¶</a></dt>
<dd><p>一个双目运算（如相加或相减）。 <code class="docutils literal notranslate"><span class="pre">op</span></code> 是运算符，而 <code class="docutils literal notranslate"><span class="pre">left</span></code> 和 <code class="docutils literal notranslate"><span class="pre">right</span></code> 是任意表达式节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x + y&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=BinOp(</span>
<span class="go">        left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        op=Add(),</span>
<span class="go">        right=Name(id=&#39;y&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Add">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Add</span></span><a class="headerlink" href="#ast.Add" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Sub">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Sub</span></span><a class="headerlink" href="#ast.Sub" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Mult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Mult</span></span><a class="headerlink" href="#ast.Mult" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Div">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Div</span></span><a class="headerlink" href="#ast.Div" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.FloorDiv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FloorDiv</span></span><a class="headerlink" href="#ast.FloorDiv" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Mod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Mod</span></span><a class="headerlink" href="#ast.Mod" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Pow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Pow</span></span><a class="headerlink" href="#ast.Pow" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.LShift">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">LShift</span></span><a class="headerlink" href="#ast.LShift" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.RShift">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">RShift</span></span><a class="headerlink" href="#ast.RShift" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitOr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitOr</span></span><a class="headerlink" href="#ast.BitOr" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitXor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitXor</span></span><a class="headerlink" href="#ast.BitXor" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitAnd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitAnd</span></span><a class="headerlink" href="#ast.BitAnd" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.MatMult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatMult</span></span><a class="headerlink" href="#ast.MatMult" title="永久链接至目标">¶</a></dt>
<dd><p>双目运算符对应的形符。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.BoolOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BoolOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.BoolOp" title="永久链接至目标">¶</a></dt>
<dd><p>一个布尔运算，'or' 或者 'and'。 <code class="docutils literal notranslate"><span class="pre">op</span></code> 是 <a class="reference internal" href="#ast.Or" title="ast.Or"><code class="xref py py-class docutils literal notranslate"><span class="pre">Or</span></code></a> 或者 <a class="reference internal" href="#ast.And" title="ast.And"><code class="xref py py-class docutils literal notranslate"><span class="pre">And</span></code></a>。 <code class="docutils literal notranslate"><span class="pre">values</span></code> 是参与运算的值。 具有相同运算符的连续运算，如 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">or</span> <span class="pre">b</span> <span class="pre">or</span> <span class="pre">c</span></code>，会被折叠为具有多个值的单个节点。</p>
<p>这不包括 <code class="docutils literal notranslate"><span class="pre">not</span></code>，它属于 <a class="reference internal" href="#ast.UnaryOp" title="ast.UnaryOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnaryOp</span></code></a>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x or y&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=BoolOp(</span>
<span class="go">        op=Or(),</span>
<span class="go">        values=[</span>
<span class="go">            Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            Name(id=&#39;y&#39;, ctx=Load())]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.And">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">And</span></span><a class="headerlink" href="#ast.And" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Or">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Or</span></span><a class="headerlink" href="#ast.Or" title="永久链接至目标">¶</a></dt>
<dd><p>布尔运算符对应的形符。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Compare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Compare" title="永久链接至目标">¶</a></dt>
<dd><p>两个或更多值之间的比较运算。 <code class="docutils literal notranslate"><span class="pre">left</span></code> 是参加比较的第一个值，<code class="docutils literal notranslate"><span class="pre">ops</span></code> 是由运算符组成的列表，而 <code class="docutils literal notranslate"><span class="pre">comparators</span></code> 是由参加比较的第一个元素之后的值组成的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;1 &lt;= a &lt; 10&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Compare(</span>
<span class="go">        left=Constant(value=1),</span>
<span class="go">        ops=[</span>
<span class="go">            LtE(),</span>
<span class="go">            Lt()],</span>
<span class="go">        comparators=[</span>
<span class="go">            Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">            Constant(value=10)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Eq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Eq</span></span><a class="headerlink" href="#ast.Eq" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.NotEq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NotEq</span></span><a class="headerlink" href="#ast.NotEq" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Lt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Lt</span></span><a class="headerlink" href="#ast.Lt" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.LtE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">LtE</span></span><a class="headerlink" href="#ast.LtE" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Gt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Gt</span></span><a class="headerlink" href="#ast.Gt" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.GtE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">GtE</span></span><a class="headerlink" href="#ast.GtE" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Is">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Is</span></span><a class="headerlink" href="#ast.Is" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.IsNot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">IsNot</span></span><a class="headerlink" href="#ast.IsNot" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.In">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">In</span></span><a class="headerlink" href="#ast.In" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.NotIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NotIn</span></span><a class="headerlink" href="#ast.NotIn" title="永久链接至目标">¶</a></dt>
<dd><p>比较运算符对应的形符。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Call">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Call" title="永久链接至目标">¶</a></dt>
<dd><p>一个函数调用。 <code class="docutils literal notranslate"><span class="pre">func</span></code> 是函数，它通常是一个 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 或 <a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 对象。 对于其参数:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> 保存由按位置传入的参数组成的列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keywords</span></code> 保存了一个代表以关键字传入的参数的 <a class="reference internal" href="keyword.html#module-keyword" title="keyword: Test whether a string is a keyword in Python."><code class="xref py py-class docutils literal notranslate"><span class="pre">keyword</span></code></a> 对象的列表。</p></li>
</ul>
<p>当创建一个 <code class="docutils literal notranslate"><span class="pre">Call</span></code> 节点时，需要有 <code class="docutils literal notranslate"><span class="pre">args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">keywords</span></code>，但它们可以为空列表。 <code class="docutils literal notranslate"><span class="pre">starargs</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> 是可选的。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;func(a, b=c, *d, **e)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Call(</span>
<span class="go">        func=Name(id=&#39;func&#39;, ctx=Load()),</span>
<span class="go">        args=[</span>
<span class="go">            Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">            Starred(</span>
<span class="go">                value=Name(id=&#39;d&#39;, ctx=Load()),</span>
<span class="go">                ctx=Load())],</span>
<span class="go">        keywords=[</span>
<span class="go">            keyword(</span>
<span class="go">                arg=&#39;b&#39;,</span>
<span class="go">                value=Name(id=&#39;c&#39;, ctx=Load())),</span>
<span class="go">            keyword(</span>
<span class="go">                value=Name(id=&#39;e&#39;, ctx=Load()))]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.keyword">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.keyword" title="永久链接至目标">¶</a></dt>
<dd><p>传给函数调用或类定义的关键字参数。 <code class="docutils literal notranslate"><span class="pre">arg</span></code> 是形参名称对应的原始字符串，<code class="docutils literal notranslate"><span class="pre">value</span></code> 是要传入的节点。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.IfExp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">IfExp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.IfExp" title="永久链接至目标">¶</a></dt>
<dd><p>一个表达式例如 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">if</span> <span class="pre">b</span> <span class="pre">else</span> <span class="pre">c</span></code>。 每个字段保存一个单独节点，因而在下面的示例中，三个节点均为 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a if b else c&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=IfExp(</span>
<span class="go">        test=Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">        body=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">        orelse=Name(id=&#39;c&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Attribute">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Attribute" title="永久链接至目标">¶</a></dt>
<dd><p>属性访问，例如 <code class="docutils literal notranslate"><span class="pre">d.keys</span></code>。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 是一个节点，通常为 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>。 <code class="docutils literal notranslate"><span class="pre">attr</span></code> 是一个给出属性名称的纯字符串，而 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 根据属性操作的方式可以为 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>, <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 或 <a class="reference internal" href="#ast.Del" title="ast.Del"><code class="xref py py-class docutils literal notranslate"><span class="pre">Del</span></code></a>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;snake.colour&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Attribute(</span>
<span class="go">        value=Name(id=&#39;snake&#39;, ctx=Load()),</span>
<span class="go">        attr=&#39;colour&#39;,</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NamedExpr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NamedExpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NamedExpr" title="永久链接至目标">¶</a></dt>
<dd><blockquote>
<div><p>一个带名称的表达式。 此 AST 节点是由赋值表达式运算符（或称海象运算符）产生的。 与第一个参数可以有多个节点的 <a class="reference internal" href="#ast.Assign" title="ast.Assign"><code class="xref py py-class docutils literal notranslate"><span class="pre">Assign</span></code></a> 节点不同，在此情况下 <code class="docutils literal notranslate"><span class="pre">target</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value</span></code> 都必须为单独节点。</p>
</div></blockquote>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(x := 4)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=NamedExpr(</span>
<span class="go">        target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">        value=Constant(value=4)))</span>
</pre></div>
</div>
</dd></dl>

<section id="subscripting">
<h4>抽取<a class="headerlink" href="#subscripting" title="永久链接至标题">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Subscript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Subscript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Subscript" title="永久链接至目标">¶</a></dt>
<dd><p>抽取操作，如 <code class="docutils literal notranslate"><span class="pre">l[1]</span></code>。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 是被抽取的对象（通常为序列或映射）。 <code class="docutils literal notranslate"><span class="pre">slice</span></code> 是索引号、切片或键。 它可以是一个包含 <a class="reference internal" href="#ast.Slice" title="ast.Slice"><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice</span></code></a> 的 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a>。 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 根据抽取所执行的操作可以为 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>, <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 或 <a class="reference internal" href="#ast.Del" title="ast.Del"><code class="xref py py-class docutils literal notranslate"><span class="pre">Del</span></code></a>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;l[1:2, 3]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Subscript(</span>
<span class="go">        value=Name(id=&#39;l&#39;, ctx=Load()),</span>
<span class="go">        slice=Tuple(</span>
<span class="go">            elts=[</span>
<span class="go">                Slice(</span>
<span class="go">                    lower=Constant(value=1),</span>
<span class="go">                    upper=Constant(value=2)),</span>
<span class="go">                Constant(value=3)],</span>
<span class="go">            ctx=Load()),</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Slice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Slice" title="永久链接至目标">¶</a></dt>
<dd><p>常规切片 (形式如 <code class="docutils literal notranslate"><span class="pre">lower:upper</span></code> 或 <code class="docutils literal notranslate"><span class="pre">lower:upper:step</span></code>)。 只能在 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 的 <em>slice</em> 字段内部出现，可以是直接切片对象或是作为 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 的元素。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;l[1:2]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Subscript(</span>
<span class="go">        value=Name(id=&#39;l&#39;, ctx=Load()),</span>
<span class="go">        slice=Slice(</span>
<span class="go">            lower=Constant(value=1),</span>
<span class="go">            upper=Constant(value=2)),</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="comprehensions">
<h4>推导式<a class="headerlink" href="#comprehensions" title="永久链接至标题">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.ListComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ListComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ListComp" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.SetComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">SetComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.SetComp" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.GeneratorExp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">GeneratorExp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.GeneratorExp" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.DictComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">DictComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.DictComp" title="永久链接至目标">¶</a></dt>
<dd><p>列表和集合推导式、生成器表达式以及字典推导式。 <code class="docutils literal notranslate"><span class="pre">elt</span></code> (或 <code class="docutils literal notranslate"><span class="pre">key</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value</span></code>) 是一个代表将针对每个条目被求值的部分的单独节点。</p>
<p><code class="docutils literal notranslate"><span class="pre">generators</span></code> 是一个由 <a class="reference internal" href="#ast.comprehension" title="ast.comprehension"><code class="xref py py-class docutils literal notranslate"><span class="pre">comprehension</span></code></a> 节点组成的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[x for x in numbers]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{x: x**2 for x in numbers}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=DictComp(</span>
<span class="go">        key=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        value=BinOp(</span>
<span class="go">            left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            op=Pow(),</span>
<span class="go">            right=Constant(value=2)),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{x for x in numbers}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=SetComp(</span>
<span class="go">        elt=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.comprehension">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">comprehension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_async</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.comprehension" title="永久链接至目标">¶</a></dt>
<dd><p>推导式中的一个 <code class="docutils literal notranslate"><span class="pre">for</span></code> 子句。 <code class="docutils literal notranslate"><span class="pre">target</span></code> 是针对每个元素使用的引用 —— 通常为一个 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 或 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">iter</span></code> 是要执行迭代的对象。 <code class="docutils literal notranslate"><span class="pre">ifs</span></code> 是一个由测试表达式组成的列表：每个 <code class="docutils literal notranslate"><span class="pre">for</span></code> 子句都可以拥有多个 <code class="docutils literal notranslate"><span class="pre">ifs</span></code>。</p>
<p><code class="docutils literal notranslate"><span class="pre">is_async</span></code> 表明推导式是异步的 (使用 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">for</span></code>)。 它的值是一个整数 (0 或 1)。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[ord(c) for line in file for c in line]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Multiple comprehensions in one.</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Call(</span>
<span class="go">            func=Name(id=&#39;ord&#39;, ctx=Load()),</span>
<span class="go">            args=[</span>
<span class="go">                Name(id=&#39;c&#39;, ctx=Load())],</span>
<span class="go">            keywords=[]),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;line&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;file&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0),</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;c&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;line&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(n**2 for n in it if n&gt;5 if n&lt;10)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># generator comprehension</span>
<span class="go">Expression(</span>
<span class="go">    body=GeneratorExp(</span>
<span class="go">        elt=BinOp(</span>
<span class="go">            left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">            op=Pow(),</span>
<span class="go">            right=Constant(value=2)),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;n&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;it&#39;, ctx=Load()),</span>
<span class="go">                ifs=[</span>
<span class="go">                    Compare(</span>
<span class="go">                        left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=5)]),</span>
<span class="go">                    Compare(</span>
<span class="go">                        left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Lt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=10)])],</span>
<span class="go">                is_async=0)]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[i async for i in soc]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Async comprehension</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Name(id=&#39;i&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;i&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;soc&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=1)]))</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="statements">
<h3>语句<a class="headerlink" href="#statements" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Assign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Assign" title="永久链接至目标">¶</a></dt>
<dd><p>一次赋值。 <code class="docutils literal notranslate"><span class="pre">targets</span></code> 是一个由节点组成的列表，而 <code class="docutils literal notranslate"><span class="pre">value</span></code> 是一个单独节点。</p>
<p><code class="docutils literal notranslate"><span class="pre">targets</span></code> 中有多个节点表示将同一个值赋给多个目标。 解包操作是通过在 <code class="docutils literal notranslate"><span class="pre">targets</span></code> 中放入一个 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> 来表示的。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.Assign.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.Assign.type_comment" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是带有以注释表示的类型标注的可选的字符串。</p>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a = b = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Multiple assignment</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                Name(id=&#39;b&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a,b = c&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Unpacking</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                        Name(id=&#39;b&#39;, ctx=Store())],</span>
<span class="go">                    ctx=Store())],</span>
<span class="go">            value=Name(id=&#39;c&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.AnnAssign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AnnAssign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AnnAssign" title="永久链接至目标">¶</a></dt>
<dd><p>一次带有类型标注的赋值。 <code class="docutils literal notranslate"><span class="pre">target</span></code> 为单独节点并可以是 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, <a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 或 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 之一。 <code class="docutils literal notranslate"><span class="pre">annotation</span></code> 为标注，例如一个 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a> 或 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 为可选的单独节点。 <code class="docutils literal notranslate"><span class="pre">simple</span></code> 为一个布尔整数，其值对于 <code class="docutils literal notranslate"><span class="pre">target</span></code> 中不出现在括号之内因而是纯名称而非表达式的 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点将为 True。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;c: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Name(id=&#39;c&#39;, ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=1)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(a): int = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Annotation with parenthesis</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            value=Constant(value=1),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a.b: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Attribute annotation</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Attribute(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                attr=&#39;b&#39;,</span>
<span class="go">                ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a[1]: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Subscript annotation</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Subscript(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                slice=Constant(value=1),</span>
<span class="go">                ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.AugAssign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AugAssign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AugAssign" title="永久链接至目标">¶</a></dt>
<dd><p>增强赋值，如 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+=</span> <span class="pre">1</span></code>。 在下面的例子中，<code class="docutils literal notranslate"><span class="pre">target</span></code> 是一个针对 <code class="docutils literal notranslate"><span class="pre">x</span></code> (带有 <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 上下文) 的 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点，<code class="docutils literal notranslate"><span class="pre">op</span></code> 为 <a class="reference internal" href="#ast.Add" title="ast.Add"><code class="xref py py-class docutils literal notranslate"><span class="pre">Add</span></code></a>，而 <code class="docutils literal notranslate"><span class="pre">value</span></code> 是一个值为 1 的 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a>。</p>
<p><code class="docutils literal notranslate"><span class="pre">target</span></code> 属性不可以是 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> 类，这与 <a class="reference internal" href="#ast.Assign" title="ast.Assign"><code class="xref py py-class docutils literal notranslate"><span class="pre">Assign</span></code></a> 的目标不同。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x += 2&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AugAssign(</span>
<span class="go">            target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">            op=Add(),</span>
<span class="go">            value=Constant(value=2))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Raise">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Raise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Raise" title="永久链接至目标">¶</a></dt>
<dd><p>一条 <code class="docutils literal notranslate"><span class="pre">raise</span></code> 语句。 <code class="docutils literal notranslate"><span class="pre">exc</span></code> 是要引发的异常，对于一个单独的 <code class="docutils literal notranslate"><span class="pre">raise</span></code> 通常为 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 或 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>，或者为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。 <code class="docutils literal notranslate"><span class="pre">cause</span></code> 是针对 <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">x</span> <span class="pre">from</span> <span class="pre">y</span></code> 中 <code class="docutils literal notranslate"><span class="pre">y</span></code> 的可选部分。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;raise x from y&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Raise(</span>
<span class="go">            exc=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cause=Name(id=&#39;y&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Assert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Assert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Assert" title="永久链接至目标">¶</a></dt>
<dd><p>一条断言。 <code class="docutils literal notranslate"><span class="pre">test</span></code> 保存条件，例如为一个 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">msg</span></code> 保存失败消息。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;assert x,y&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assert(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            msg=Name(id=&#39;y&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Delete">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Delete" title="永久链接至目标">¶</a></dt>
<dd><p>代表一条 <code class="docutils literal notranslate"><span class="pre">del</span></code> 语句。 <code class="docutils literal notranslate"><span class="pre">targets</span></code> 是一个由节点组成的列表，例如 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, <a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 或 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;del x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Delete(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;x&#39;, ctx=Del()),</span>
<span class="go">                Name(id=&#39;y&#39;, ctx=Del()),</span>
<span class="go">                Name(id=&#39;z&#39;, ctx=Del())])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Pass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Pass</span></span><a class="headerlink" href="#ast.Pass" title="永久链接至目标">¶</a></dt>
<dd><p>一条 <code class="docutils literal notranslate"><span class="pre">pass</span></code> 语句。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;pass&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Pass()],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<p>其他仅在函数或循环内部可用的语句将在其他小节中描述。</p>
<section id="imports">
<h4>导入<a class="headerlink" href="#imports" title="永久链接至标题">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Import">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Import" title="永久链接至目标">¶</a></dt>
<dd><p>一条导入语句。 <code class="docutils literal notranslate"><span class="pre">names</span></code> 是一个由 <a class="reference internal" href="#ast.alias" title="ast.alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">alias</span></code></a> 节点组成的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;import x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Import(</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;x&#39;),</span>
<span class="go">                alias(name=&#39;y&#39;),</span>
<span class="go">                alias(name=&#39;z&#39;)])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ImportFrom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ImportFrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ImportFrom" title="永久链接至目标">¶</a></dt>
<dd><p>代表 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">x</span> <span class="pre">import</span> <span class="pre">y</span></code>。 <code class="docutils literal notranslate"><span class="pre">module</span></code> 是一个 'from' 名称的原始字符串，不带任何前导点号，或者为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 表示 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">.</span> <span class="pre">import</span> <span class="pre">foo</span></code> 这样的语句。 <code class="docutils literal notranslate"><span class="pre">level</span></code> 是一个保存相对导入层级的整数（0 表示绝对导入）。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;from y import x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ImportFrom(</span>
<span class="go">            module=&#39;y&#39;,</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;x&#39;),</span>
<span class="go">                alias(name=&#39;y&#39;),</span>
<span class="go">                alias(name=&#39;z&#39;)],</span>
<span class="go">            level=0)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.alias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.alias" title="永久链接至目标">¶</a></dt>
<dd><p>两个形参均为名称的原始字符串。 如果要使用常规名称则 <code class="docutils literal notranslate"><span class="pre">asname</span></code> 可以为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;from ..foo.bar import a as b, c&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ImportFrom(</span>
<span class="go">            module=&#39;foo.bar&#39;,</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;a&#39;, asname=&#39;b&#39;),</span>
<span class="go">                alias(name=&#39;c&#39;)],</span>
<span class="go">            level=2)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="control-flow">
<h3>控制流<a class="headerlink" href="#control-flow" title="永久链接至标题">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>可选的子句如 <code class="docutils literal notranslate"><span class="pre">else</span></code> 如果不存在则会被存储为一个空列表。</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="ast.If">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">If</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.If" title="永久链接至目标">¶</a></dt>
<dd><p>一条 <code class="docutils literal notranslate"><span class="pre">if</span></code> 语句。 <code class="docutils literal notranslate"><span class="pre">test</span></code> 保存一个单独节点，如一个 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">body</span></code> 和 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 各自保存一个节点列表。</p>
<p><code class="docutils literal notranslate"><span class="pre">elif</span></code> 子句在 AST 中没有特别的表示形式，而是作为上文介绍的 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 部分之内的一个额外 <a class="reference internal" href="#ast.If" title="ast.If"><code class="xref py py-class docutils literal notranslate"><span class="pre">If</span></code></a> 节点出现。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">if x:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">elif y:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        If(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                If(</span>
<span class="go">                    test=Name(id=&#39;y&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))],</span>
<span class="go">                    orelse=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.For">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">For</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.For" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">for</span></code> 循环。 <code class="docutils literal notranslate"><span class="pre">target</span></code> 保存循环赋值的变量，是一个单独 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">iter</span></code> 保存要被循环的条目，同样也是一个单独节点。 <code class="docutils literal notranslate"><span class="pre">body</span></code> 和 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 包含要执行的节点列表。 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 中的会在循环正常结束而不是通过 <code class="docutils literal notranslate"><span class="pre">break</span></code> 语句结束时被执行。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.For.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.For.type_comment" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是带有以注释表示的类型标注的可选的字符串。</p>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">for x in y:</span>
<span class="gp">... </span><span class="s2">    ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">    ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        For(</span>
<span class="go">            target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">            iter=Name(id=&#39;y&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.While">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">While</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.While" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">while</span></code> 循环。 <code class="docutils literal notranslate"><span class="pre">test</span></code> 保存条件，如一个 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt; print(ast.dump(ast.parse(&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="k">while</span> <span class="n">x</span><span class="p">:</span>
<span class="gp">... </span>   <span class="o">...</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>   <span class="o">...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;), indent=4))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        While(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Break">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Break</span></span><a class="headerlink" href="#ast.Break" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Continue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Continue</span></span><a class="headerlink" href="#ast.Continue" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">break</span></code> 和 <code class="docutils literal notranslate"><span class="pre">continue</span></code> 语句。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">for a in b:</span>
<span class="gp">... </span><span class="s2">    if a &gt; 5:</span>
<span class="gp">... </span><span class="s2">        break</span>
<span class="gp">... </span><span class="s2">    else:</span>
<span class="gp">... </span><span class="s2">        continue</span>
<span class="gp">...</span><span class="s2"></span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        For(</span>
<span class="go">            target=Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">            iter=Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                If(</span>
<span class="go">                    test=Compare(</span>
<span class="go">                        left=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=5)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Break()],</span>
<span class="go">                    orelse=[</span>
<span class="go">                        Continue()])],</span>
<span class="go">            orelse=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Try">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Try</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalbody</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Try" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">try</span></code> 代码块。 所有属性都是要执行的节点列表，除了 <code class="docutils literal notranslate"><span class="pre">handlers</span></code>，它是一个 <a class="reference internal" href="#ast.ExceptHandler" title="ast.ExceptHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptHandler</span></code></a> 节点列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except Exception:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except OtherException as e:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">finally:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Try(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;Exception&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;OtherException&#39;, ctx=Load()),</span>
<span class="go">                    name=&#39;e&#39;,</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            finalbody=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.TryStar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">TryStar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalbody</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.TryStar" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">try</span></code> blocks which are followed by <code class="docutils literal notranslate"><span class="pre">except*</span></code> clauses. The attributes are the
same as for <a class="reference internal" href="#ast.Try" title="ast.Try"><code class="xref py py-class docutils literal notranslate"><span class="pre">Try</span></code></a> but the <a class="reference internal" href="#ast.ExceptHandler" title="ast.ExceptHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptHandler</span></code></a> nodes in <code class="docutils literal notranslate"><span class="pre">handlers</span></code>
are interpreted as <code class="docutils literal notranslate"><span class="pre">except*</span></code> blocks rather then <code class="docutils literal notranslate"><span class="pre">except</span></code>.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except* Exception:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TryStar(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;Exception&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])],</span>
<span class="go">            orelse=[],</span>
<span class="go">            finalbody=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ExceptHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ExceptHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ExceptHandler" title="永久链接至目标">¶</a></dt>
<dd><p>一个单独的 <code class="docutils literal notranslate"><span class="pre">except</span></code> 子句。 <code class="docutils literal notranslate"><span class="pre">type</span></code> 是它将匹配的异常，通常为一个 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点（或 <code class="docutils literal notranslate"><span class="pre">None</span></code> 表示捕获全部的 <code class="docutils literal notranslate"><span class="pre">except:</span></code> 子句）。 <code class="docutils literal notranslate"><span class="pre">name</span></code> 是一个用于存放异常的别名的原始字符串，或者如果子句没有 <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">foo</span></code> 则为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。 <code class="docutils literal notranslate"><span class="pre">body</span></code> 为一个节点列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">    a + 1</span>
<span class="gp">... </span><span class="s2">except TypeError:</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Try(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=BinOp(</span>
<span class="go">                        left=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                        op=Add(),</span>
<span class="go">                        right=Constant(value=1)))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;TypeError&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Pass()])],</span>
<span class="go">            orelse=[],</span>
<span class="go">            finalbody=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.With">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">With</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.With" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">with</span></code> 代码块。 <code class="docutils literal notranslate"><span class="pre">items</span></code> 是一个代表上下文管理器的 <a class="reference internal" href="#ast.withitem" title="ast.withitem"><code class="xref py py-class docutils literal notranslate"><span class="pre">withitem</span></code></a> 节点列表，而 <code class="docutils literal notranslate"><span class="pre">body</span></code> 是该上下文中的缩进代码块。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.With.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.With.type_comment" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是带有以注释表示的类型标注的可选的字符串。</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.withitem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">withitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context_expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optional_vars</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.withitem" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">with</span></code> 代码块中单独的上下文管理器。 <code class="docutils literal notranslate"><span class="pre">context_expr</span></code> 为上下文管理器，通常为一个 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 节点。 <code class="docutils literal notranslate"><span class="pre">optional_vars</span></code> 为一个针对 <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">foo</span></code> 部分的 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>，或者如果未使用别名则为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">with a as b, c as d:</span>
<span class="gp">... </span><span class="s2">   something(b, d)</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        With(</span>
<span class="go">            items=[</span>
<span class="go">                withitem(</span>
<span class="go">                    context_expr=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                    optional_vars=Name(id=&#39;b&#39;, ctx=Store())),</span>
<span class="go">                withitem(</span>
<span class="go">                    context_expr=Name(id=&#39;c&#39;, ctx=Load()),</span>
<span class="go">                    optional_vars=Name(id=&#39;d&#39;, ctx=Store()))],</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Call(</span>
<span class="go">                        func=Name(id=&#39;something&#39;, ctx=Load()),</span>
<span class="go">                        args=[</span>
<span class="go">                            Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">                            Name(id=&#39;d&#39;, ctx=Load())],</span>
<span class="go">                        keywords=[]))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="pattern-matching">
<h3>模式匹配<a class="headerlink" href="#pattern-matching" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Match">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cases</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Match" title="永久链接至目标">¶</a></dt>
<dd><p>一条 <code class="docutils literal notranslate"><span class="pre">match</span></code> 语句。 <code class="docutils literal notranslate"><span class="pre">subject</span></code> 保存匹配的目标（与 cases 相匹配的对象）而 <code class="docutils literal notranslate"><span class="pre">cases</span></code> 包含一个由不同分支的 <a class="reference internal" href="#ast.match_case" title="ast.match_case"><code class="xref py py-class docutils literal notranslate"><span class="pre">match_case</span></code></a> 节点组成的可迭代对象。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.match_case">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">match_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.match_case" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">match</span></code> 语句中单独的 case 模式。 <code class="docutils literal notranslate"><span class="pre">pattern</span></code> 包含目标将要去匹配的匹配模式。 请注意针对模式所产生的 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">AST</span></code></a> 节点不同于针对表达式所产生的节点，即使它们共享相同的语法。</p>
<p><code class="docutils literal notranslate"><span class="pre">guard</span></code> 属性包含一个当模式与目标相匹配时将被求值的表达式。</p>
<p><code class="docutils literal notranslate"><span class="pre">body</span></code> 包含一个当模式匹配并且对 guard 表达式求值的结果为真时要执行的节点列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] if x&gt;0:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case tuple():</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                    guard=Compare(</span>
<span class="go">                        left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=0)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;tuple&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[],</span>
<span class="go">                        kwd_attrs=[],</span>
<span class="go">                        kwd_patterns=[]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchValue" title="永久链接至目标">¶</a></dt>
<dd><p>一个按相等性进行比较的匹配字面值或值模式。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 为一个表达式节点。 允许的值节点被限制为 match 语句文档中所描述的节点。 如果匹配目标等于 value 的求值结果则模式匹配成功。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case &quot;Relevant&quot;:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchValue(</span>
<span class="go">                        value=Constant(value=&#39;Relevant&#39;)),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchSingleton">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchSingleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchSingleton" title="永久链接至目标">¶</a></dt>
<dd><p>一个按标识号进行比较的匹配字面值模式。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 为用于比较的单例对象: <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">True</span></code> 或 <code class="docutils literal notranslate"><span class="pre">False</span></code>。 如果匹配目标为给定的常量则该模式匹配成功。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case None:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSingleton(value=None),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchSequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchSequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchSequence" title="永久链接至目标">¶</a></dt>
<dd><p>一个匹配序列模式。 <code class="docutils literal notranslate"><span class="pre">patterns</span></code> 包含当目标为一个序列时要与目标元素进行匹配的模式。 如果某一子模式为 <code class="docutils literal notranslate"><span class="pre">MatchStar</span></code> 节点则将匹配一个变长度序列，否则将匹配一个固定长度序列。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [1, 2]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=1)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=2))]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchStar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchStar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchStar" title="永久链接至目标">¶</a></dt>
<dd><p>匹配一个可变长度匹配序列模式中的剩余部分序列。 如果 <code class="docutils literal notranslate"><span class="pre">name</span></code> 不为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，则当整个序列模式匹配成功时将把一个包含剩余序列元素的列表绑定到该名称。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [1, 2, *rest]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case [*_]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=1)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=2)),</span>
<span class="go">                            MatchStar(name=&#39;rest&#39;)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchStar()]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchMapping">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchMapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchMapping" title="永久链接至目标">¶</a></dt>
<dd><p>一个匹配的映射模式。 <code class="docutils literal notranslate"><span class="pre">keys</span></code> 为一个由表达式节点组成的序列。 <code class="docutils literal notranslate"><span class="pre">patterns</span></code> 为一个由对应的模式节点组成的序列。 <code class="docutils literal notranslate"><span class="pre">rest</span></code> 是一个可被指定用来捕获剩余映射元素的可选名称。 允许的关键字表达式被限制为与 match 语句文档中所描述的一致。</p>
<p>如果目标为一个映射、所有被求值的表达式都存在于该映射中，并且对应于每个键的值都与对应的子模式相匹配则此模式匹配成功。 如果 <code class="docutils literal notranslate"><span class="pre">rest</span></code> 不为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，则当整个映射模式匹配成功时会将一个包含剩余映射元素的字典绑定到该名称。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case {1: _, 2: _}:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case {**rest}:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchMapping(</span>
<span class="go">                        keys=[</span>
<span class="go">                            Constant(value=1),</span>
<span class="go">                            Constant(value=2)],</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchAs(),</span>
<span class="go">                            MatchAs()]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchMapping(keys=[], patterns=[], rest=&#39;rest&#39;),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwd_attrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwd_patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchClass" title="永久链接至目标">¶</a></dt>
<dd><p>一个 match 类模式。 <code class="docutils literal notranslate"><span class="pre">cls</span></code> 为一个给出要匹配的名义类的表达式。 <code class="docutils literal notranslate"><span class="pre">patterns</span></code> 为一个由要与该类所定义的模式匹配属性相匹配的模式节点组成的序列。 <code class="docutils literal notranslate"><span class="pre">kwd_attrs</span></code> 为一个由要匹配的附加属性（指定为该类模式中的关键字参数）组成的序列，<code class="docutils literal notranslate"><span class="pre">kwd_patterns</span></code> 为对应的模式（指定为该类模式中的关键字值）。</p>
<p>如果目标为被指名类的一个实例、所有的位置模式都与对应的类定义属性相匹配，并且任何被指定的关键字属性都与其对应的模式相匹配则此模式匹配成功。</p>
<p>注意：类可能会定义一个返回自身的特征属性以便能将一个模式节点与被匹配的实例相匹配。 某些内置类型也是以这种方式来匹配的，与 match 语句文档中所描述的一致。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case Point2D(0, 0):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case Point3D(x=0, y=0, z=0):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;Point2D&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0))],</span>
<span class="go">                        kwd_attrs=[],</span>
<span class="go">                        kwd_patterns=[]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;Point3D&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[],</span>
<span class="go">                        kwd_attrs=[</span>
<span class="go">                            &#39;x&#39;,</span>
<span class="go">                            &#39;y&#39;,</span>
<span class="go">                            &#39;z&#39;],</span>
<span class="go">                        kwd_patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0))]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchAs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchAs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchAs" title="永久链接至目标">¶</a></dt>
<dd><p>一个匹配 &quot;as-模式&quot;、捕获模式或通配符模式。 <code class="docutils literal notranslate"><span class="pre">pattern</span></code> 包含将要与目标相匹配的匹配模式。 如果模式为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，则该节点代表一个捕获模式（即一个简单的名称）并将总是会成功。</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> 属性包含当模式匹配成功时将要绑定的名称。 如果 <code class="docutils literal notranslate"><span class="pre">name</span></code> 为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，则 <code class="docutils literal notranslate"><span class="pre">pattern</span></code> 也必须为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 并且该节点代表的是通配符模式。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] as y:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case _:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchAs(</span>
<span class="go">                        pattern=MatchSequence(</span>
<span class="go">                            patterns=[</span>
<span class="go">                                MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                        name=&#39;y&#39;),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchAs(),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchOr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchOr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchOr" title="永久链接至目标">¶</a></dt>
<dd><p>一个匹配 &quot;or-模式&quot;。 or-模式会依次将其每个子模式与目标相匹配，直到有一个匹配成功。 此时该 or-模式将被视为匹配成功。 如果没有一个子模式匹配成功则该 or-模式匹配失败。 <code class="docutils literal notranslate"><span class="pre">patterns</span></code> 属性包含一个由将与目标相匹配的匹配模式节点组成的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] | (y):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchOr(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchSequence(</span>
<span class="go">                                patterns=[</span>
<span class="go">                                    MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                            MatchAs(name=&#39;y&#39;)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="function-and-class-definitions">
<h3>函数与类定义<a class="headerlink" href="#function-and-class-definitions" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.FunctionDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.FunctionDef" title="永久链接至目标">¶</a></dt>
<dd><p>一个函数定义。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> 是函数名称的原始字符串。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> 是一个 <a class="reference internal" href="#ast.arguments" title="ast.arguments"><code class="xref py py-class docutils literal notranslate"><span class="pre">arguments</span></code></a> 节点。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">body</span></code> 是函数内部的节点列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decorator_list</span></code> 是要应用的装饰器列表，最外层的最先保存（即列表中的第一项将最后被应用）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returns</span></code> 是返回标注。</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.FunctionDef.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.FunctionDef.type_comment" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是带有以注释表示的类型标注的可选的字符串。</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Lambda">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Lambda" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">lambda</span></code> 是可在表达式内部使用的最小化函数定义。 不同于 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a>，<code class="docutils literal notranslate"><span class="pre">body</span></code> 是保存一个单独节点。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;lambda x,y: ...&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Lambda(</span>
<span class="go">                args=arguments(</span>
<span class="go">                    posonlyargs=[],</span>
<span class="go">                    args=[</span>
<span class="go">                        arg(arg=&#39;x&#39;),</span>
<span class="go">                        arg(arg=&#39;y&#39;)],</span>
<span class="go">                    kwonlyargs=[],</span>
<span class="go">                    kw_defaults=[],</span>
<span class="go">                    defaults=[]),</span>
<span class="go">                body=Constant(value=Ellipsis)))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.arguments">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posonlyargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vararg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwonlyargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_defaults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwarg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.arguments" title="永久链接至目标">¶</a></dt>
<dd><p>函数的参数。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">posonlyargs</span></code>, <code class="docutils literal notranslate"><span class="pre">args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwonlyargs</span></code> 均为 <a class="reference internal" href="#ast.arg" title="ast.arg"><code class="xref py py-class docutils literal notranslate"><span class="pre">arg</span></code></a> 节点的列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vararg</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwarg</span></code> 均为单独的 <a class="reference internal" href="#ast.arg" title="ast.arg"><code class="xref py py-class docutils literal notranslate"><span class="pre">arg</span></code></a> 节点，指向 <code class="docutils literal notranslate"><span class="pre">*args,</span> <span class="pre">**kwargs</span></code> 形参。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kw_defaults</span></code> 是一个由仅限关键字参数默认值组成的列表。 如果有一个为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，则对应的参数为必须的参数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">defaults</span></code> 是一个由可按位置传入的参数的默认值组成的列表。 如果默认值个数少于参数个数，则它们将对应最后 n 个参数。</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.arg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.arg" title="永久链接至目标">¶</a></dt>
<dd><p>列表中的一个单独参数。 <code class="docutils literal notranslate"><span class="pre">arg</span></code> 为参数名称原始字符串，<code class="docutils literal notranslate"><span class="pre">annotation</span></code> 为其标注，如一个 <code class="xref py py-class docutils literal notranslate"><span class="pre">Str</span></code> 或 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 节点。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.arg.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.arg.type_comment" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一个可选的将注释用作类型标注的字符串。</p>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">@decorator1</span>
<span class="gp">... </span><span class="s2">@decorator2</span>
<span class="gp">... </span><span class="s2">def f(a: &#39;annotation&#39;, b=1, c=2, *d, e, f=3, **g) -&gt; &#39;return annotation&#39;:</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        FunctionDef(</span>
<span class="go">            name=&#39;f&#39;,</span>
<span class="go">            args=arguments(</span>
<span class="go">                posonlyargs=[],</span>
<span class="go">                args=[</span>
<span class="go">                    arg(</span>
<span class="go">                        arg=&#39;a&#39;,</span>
<span class="go">                        annotation=Constant(value=&#39;annotation&#39;)),</span>
<span class="go">                    arg(arg=&#39;b&#39;),</span>
<span class="go">                    arg(arg=&#39;c&#39;)],</span>
<span class="go">                vararg=arg(arg=&#39;d&#39;),</span>
<span class="go">                kwonlyargs=[</span>
<span class="go">                    arg(arg=&#39;e&#39;),</span>
<span class="go">                    arg(arg=&#39;f&#39;)],</span>
<span class="go">                kw_defaults=[</span>
<span class="go">                    None,</span>
<span class="go">                    Constant(value=3)],</span>
<span class="go">                kwarg=arg(arg=&#39;g&#39;),</span>
<span class="go">                defaults=[</span>
<span class="go">                    Constant(value=1),</span>
<span class="go">                    Constant(value=2)]),</span>
<span class="go">            body=[</span>
<span class="go">                Pass()],</span>
<span class="go">            decorator_list=[</span>
<span class="go">                Name(id=&#39;decorator1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;decorator2&#39;, ctx=Load())],</span>
<span class="go">            returns=Constant(value=&#39;return annotation&#39;))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Return">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Return" title="永久链接至目标">¶</a></dt>
<dd><p>一条 <code class="docutils literal notranslate"><span class="pre">return</span></code> 语句。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;return 4&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Return(</span>
<span class="go">            value=Constant(value=4))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Yield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Yield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Yield" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.YieldFrom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">YieldFrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.YieldFrom" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">yield</span></code> 或 <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> 表达式。 因为这些属于表达式，所以如果发回的值未被使用则必须将它们包装在 <a class="reference internal" href="#ast.Expr" title="ast.Expr"><code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code></a> 节点中。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;yield x&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Yield(</span>
<span class="go">                value=Name(id=&#39;x&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;yield from x&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=YieldFrom(</span>
<span class="go">                value=Name(id=&#39;x&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Global">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Global</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Global" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.Nonlocal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Nonlocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Nonlocal" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">global</span></code> 和 <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> 语句。 <code class="docutils literal notranslate"><span class="pre">names</span></code> 为一个由原始字符串组成的列表。</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;global x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Global(</span>
<span class="go">            names=[</span>
<span class="go">                &#39;x&#39;,</span>
<span class="go">                &#39;y&#39;,</span>
<span class="go">                &#39;z&#39;])],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;nonlocal x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Nonlocal(</span>
<span class="go">            names=[</span>
<span class="go">                &#39;x&#39;,</span>
<span class="go">                &#39;y&#39;,</span>
<span class="go">                &#39;z&#39;])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ClassDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ClassDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ClassDef" title="永久链接至目标">¶</a></dt>
<dd><p>一个类定义。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> 为类名称的原始字符串。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bases</span></code> 为一个由显式指明的基类节点组成的列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keywords</span></code> is a list of <a class="reference internal" href="keyword.html#module-keyword" title="keyword: Test whether a string is a keyword in Python."><code class="xref py py-class docutils literal notranslate"><span class="pre">keyword</span></code></a> nodes, principally for 'metaclass'.
Other keywords will be passed to the metaclass, as per <a class="reference external" href="https://peps.python.org/pep-3115/">PEP-3115</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starargs</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> 各为一个单独的节点，与在函数调用中的一致。 starargs 将被展开加入到基类的列表中，而 kwargs 将被传给元类。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">body</span></code> 是一个由代表类定义内部代码的节点组成的列表。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decorator_list</span></code> 是一个节点的列表，与 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a> 中的一致。</p></li>
</ul>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">@decorator1</span>
<span class="gp">... </span><span class="s2">@decorator2</span>
<span class="gp">... </span><span class="s2">class Foo(base1, base2, metaclass=meta):</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ClassDef(</span>
<span class="go">            name=&#39;Foo&#39;,</span>
<span class="go">            bases=[</span>
<span class="go">                Name(id=&#39;base1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;base2&#39;, ctx=Load())],</span>
<span class="go">            keywords=[</span>
<span class="go">                keyword(</span>
<span class="go">                    arg=&#39;metaclass&#39;,</span>
<span class="go">                    value=Name(id=&#39;meta&#39;, ctx=Load()))],</span>
<span class="go">            body=[</span>
<span class="go">                Pass()],</span>
<span class="go">            decorator_list=[</span>
<span class="go">                Name(id=&#39;decorator1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;decorator2&#39;, ctx=Load())])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="async-and-await">
<h3>async 与 await<a class="headerlink" href="#async-and-await" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AsyncFunctionDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncFunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncFunctionDef" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> 函数定义。 具有与 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a> 相同的字段。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Await">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Await</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Await" title="永久链接至目标">¶</a></dt>
<dd><p>一个 <code class="docutils literal notranslate"><span class="pre">await</span></code> 表达式。 <code class="docutils literal notranslate"><span class="pre">value</span></code> 是它所等待的值。 仅在 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a> 的函数体内可用。</p>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">async def f():</span>
<span class="gp">... </span><span class="s2">    await other_func()</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AsyncFunctionDef(</span>
<span class="go">            name=&#39;f&#39;,</span>
<span class="go">            args=arguments(</span>
<span class="go">                posonlyargs=[],</span>
<span class="go">                args=[],</span>
<span class="go">                kwonlyargs=[],</span>
<span class="go">                kw_defaults=[],</span>
<span class="go">                defaults=[]),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Await(</span>
<span class="go">                        value=Call(</span>
<span class="go">                            func=Name(id=&#39;other_func&#39;, ctx=Load()),</span>
<span class="go">                            args=[],</span>
<span class="go">                            keywords=[])))],</span>
<span class="go">            decorator_list=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AsyncFor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncFor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncFor" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object py" id="ast.AsyncWith">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncWith</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncWith" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> 循环和 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> 上下文管理器。 它们分别具有与 <a class="reference internal" href="#ast.For" title="ast.For"><code class="xref py py-class docutils literal notranslate"><span class="pre">For</span></code></a> 和 <a class="reference internal" href="#ast.With" title="ast.With"><code class="xref py py-class docutils literal notranslate"><span class="pre">With</span></code></a> 相同的字段。 仅在 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a> 的函数体内可用。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">备注</p>
<p>当一个字符串由 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 来解析时，所返回的树中的运算符节点 (为 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.operator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.unaryop</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.cmpop</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.boolop</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr_context</span></code> 的子类) 将均为单例对象。 对其中某一个 (例如 <a class="reference internal" href="#ast.Add" title="ast.Add"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Add</span></code></a>) 的修改将反映到同一个值所出现的其他位置上。</p>
</div>
</section>
</section>
<section id="ast-helpers">
<h2><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 中的辅助函数<a class="headerlink" href="#ast-helpers" title="永久链接至标题">¶</a></h2>
<p>除了节点类， <a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模块里为遍历抽象语法树定义了这些工具函数和类:</p>
<dl class="py function">
<dt class="sig sig-object py" id="ast.parse">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&lt;unknown&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exec'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.parse" title="永久链接至目标">¶</a></dt>
<dd><p>把源码解析为AST节点。和 <code class="docutils literal notranslate"><span class="pre">compile(source,</span> <span class="pre">filename,</span> <span class="pre">mode,ast.PyCF_ONLY_AST)</span></code> 等价。</p>
<p>如果给出 <code class="docutils literal notranslate"><span class="pre">type_comments=True</span></code>，解析器会被修改以检查并返回 <span class="target" id="index-12"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 和 <span class="target" id="index-13"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> 所描述的类型注释。 这相当于将 <a class="reference internal" href="#ast.PyCF_TYPE_COMMENTS" title="ast.PyCF_TYPE_COMMENTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ast.PyCF_TYPE_COMMENTS</span></code></a> 添加到传给 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 的旗标中。 这将报告针对未在正确放置类型注释的语法错误。 没有这个旗标，类型注释将被忽略，而指定 AST 节点上的  <code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 字段将总是为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。 此外，<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> 注释的位置将作为 <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> 的 <code class="docutils literal notranslate"><span class="pre">type_ignores</span></code> 属性被返回（在其他情况下则总是为空列表）。</p>
<p>并且，如果 <code class="docutils literal notranslate"><span class="pre">mode</span></code> 为 <code class="docutils literal notranslate"><span class="pre">'func_type'</span></code>，则输入语法会进行与 <span class="target" id="index-14"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> &quot;签名类型注释&quot; 对应的修改，例如 <code class="docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">List[str]</span></code>。</p>
<p>此外，将 <code class="docutils literal notranslate"><span class="pre">feature_version</span></code> 设为元组 <code class="docutils literal notranslate"><span class="pre">(major,</span> <span class="pre">minor)</span></code> 将会尝试使用该will attempt to parse using that Python 版本的语法来进行解析。 目前 <code class="docutils literal notranslate"><span class="pre">major</span></code> 必须等于 <code class="docutils literal notranslate"><span class="pre">3</span></code>。 例如，设置 <code class="docutils literal notranslate"><span class="pre">feature_version=(3,</span> <span class="pre">4)</span></code> 将允许使用 <code class="docutils literal notranslate"><span class="pre">async</span></code> 和 <code class="docutils literal notranslate"><span class="pre">await</span></code> 作为变量名。 最低受支持版本为 <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">4)</span></code>；最高则为 <code class="docutils literal notranslate"><span class="pre">sys.version_info[0:2]</span></code>。</p>
<p>如果源包含一个空字符 ('0')，则会引发 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请注意成功将源代码解析为 AST 对象并不能保证该源代码提供了可被执行的有效 Python 代码，因为编译步骤还可能引发其他的 <a class="reference internal" href="exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> 异常。 例如，对于源代码 <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">42</span></code> 可以生成一条有效的 return 语句 AST 节点，但它不能被单独编译（它必须位于一个函数节点之内）。</p>
<p>特别地，<a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 不会执行任何作用域检查，这是由编译步骤来做的。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>足够复杂或是巨大的字符串可能导致Python解释器的崩溃，因为Python的AST编译器是有栈深限制的。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.8 版更改: </span>增加了 <code class="docutils literal notranslate"><span class="pre">type_comments</span></code>, <code class="docutils literal notranslate"><span class="pre">mode='func_type'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">feature_version</span></code>。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.unparse">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">unparse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ast_obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.unparse" title="永久链接至目标">¶</a></dt>
<dd><p>反向解析一个 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 对象并生成一个包含当再次使用 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 解析时将产生同样的 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 对象的代码的字符串。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>所产生的代码字符串将不一定与生成 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 对象的原始代码完全一致（不带任何编译器优化，例如常量元组/冻结集合等）。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>尝试反向解析一个高度复杂的表达式可能会导致 <a class="reference internal" href="exceptions.html#RecursionError" title="RecursionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RecursionError</span></code></a>。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">3.9 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.literal_eval">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">literal_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_or_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.literal_eval" title="永久链接至目标">¶</a></dt>
<dd><p>Evaluate an expression node or a string containing only a Python literal or
container display.  The string or node provided may only consist of the
following Python literal structures: strings, bytes, numbers, tuples, lists,
dicts, sets, booleans, <code class="docutils literal notranslate"><span class="pre">None</span></code> and <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code>.</p>
<p>This can be used for evaluating strings containing Python values without the
need to parse the values oneself.  It is not capable of evaluating
arbitrarily complex expressions, for example involving operators or
indexing.</p>
<p>This function had been documented as &quot;safe&quot; in the past without defining
what that meant. That was misleading. This is specifically designed not to
execute Python code, unlike the more general <a class="reference internal" href="functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a>. There is no
namespace, no name lookups, or ability to call out. But it is not free from
attack: A relatively small input can lead to memory exhaustion or to C stack
exhaustion, crashing the process. There is also the possibility for
excessive CPU consumption denial of service on some inputs. Calling it on
untrusted data is thus not recommended.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>It is possible to crash the Python interpreter due to stack depth
limitations in Python's AST compiler.</p>
<p>根据输入错误的具体形式它可能引发 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>, <a class="reference internal" href="exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>, <a class="reference internal" href="exceptions.html#MemoryError" title="MemoryError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MemoryError</span></code></a> 以及 <a class="reference internal" href="exceptions.html#RecursionError" title="RecursionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RecursionError</span></code></a>。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.2 版更改: </span>目前支持字节和集合。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版更改: </span>现在支持通过 <code class="docutils literal notranslate"><span class="pre">'set()'</span></code> 创建空集合。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.10 版更改: </span>对于字符串输入，打头的空格和制表符现在会被去除。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.get_docstring">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">get_docstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.get_docstring" title="永久链接至目标">¶</a></dt>
<dd><p>返回给定 <em>node</em> (必须为 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a>, <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a>, <a class="reference internal" href="#ast.ClassDef" title="ast.ClassDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassDef</span></code></a> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> 节点) 的文档字符串，或者如果没有文档字符串则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。 如果 <em>clean</em> 为真值，则通过 <a class="reference internal" href="inspect.html#inspect.cleandoc" title="inspect.cleandoc"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.cleandoc()</span></code></a> 清除文档字符串的缩进。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.5 版更改: </span>目前支持 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.get_source_segment">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">get_source_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.get_source_segment" title="永久链接至目标">¶</a></dt>
<dd><p>获取生成 <em>node</em> 的 <em>source</em> 的源代码段。 如果丢失了某些位置信息 (<code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code> 或 <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code>)，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p>如果 <em>padded</em> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则多行语句的第一行将以与其初始位置相匹配的空格填充。</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.fix_missing_locations">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">fix_missing_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.fix_missing_locations" title="永久链接至目标">¶</a></dt>
<dd><p>当你通过 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 来编译节点树时，编译器会准备接受每个支持 <code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code> 和 <code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code> 属性的节点的相应信息。 对已生成节点来说这是相当繁琐的，因此这个辅助工具会递归地为尚未设置这些属性的节点添加它们，具体做法是将其设为父节点的对应值。 它将从 <em>node</em> 开始递归地执行。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.increment_lineno">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">increment_lineno</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.increment_lineno" title="永久链接至目标">¶</a></dt>
<dd><p>从 <em>node</em> 开始按 <em>n</em> 递增节点树中每个节点的行号和结束行号。 这在“移动代码”到文件中的不同位置时很有用处。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.copy_location">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">copy_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.copy_location" title="永久链接至目标">¶</a></dt>
<dd><p>在可能的情况下将源位置 (<code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code> 和 <code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code>) 从 <em>old_node</em> 拷贝到 <em>new_node</em>，并返回 <em>new_node</em>。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.iter_fields">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">iter_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.iter_fields" title="永久链接至目标">¶</a></dt>
<dd><p>针对于 <em>node</em> 上在 <code class="docutils literal notranslate"><span class="pre">node._fields</span></code> 中出现的每个字段产生一个 <code class="docutils literal notranslate"><span class="pre">(fieldname,</span> <span class="pre">value)</span></code> 元组。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.iter_child_nodes">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">iter_child_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.iter_child_nodes" title="永久链接至目标">¶</a></dt>
<dd><p>产生 <em>node</em> 所有的直接子节点，也就是说，所有为节点的字段所有为节点列表的字段条目。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.walk">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">walk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.walk" title="永久链接至目标">¶</a></dt>
<dd><p>递归地产生节点树中从 <em>node</em> 开始（包括 <em>node</em> 本身）的所有下级节点，没有确定的排序方式。 这在你仅想要原地修改节点而不关心具体上下文时很有用处。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NodeVisitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NodeVisitor</span></span><a class="headerlink" href="#ast.NodeVisitor" title="永久链接至目标">¶</a></dt>
<dd><p>一个遍历抽象语法树并针对所找到的每个节点调用访问器函数的节点访问器基类。 该函数可能会返回一个由 <a class="reference internal" href="#ast.NodeVisitor.visit" title="ast.NodeVisitor.visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit()</span></code></a> 方法所提供的值。</p>
<p>这个类应当被子类化，并由子类来添加访问器方法。</p>
<dl class="py method">
<dt class="sig sig-object py" id="ast.NodeVisitor.visit">
<span class="sig-name descname"><span class="pre">visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NodeVisitor.visit" title="永久链接至目标">¶</a></dt>
<dd><p>访问一个节点。 默认实现会调用名为 <code class="samp docutils literal notranslate"><span class="pre">self.visit_</span><em><span class="pre">classname</span></em></code> 的方法其中 <em>classname</em> 为节点类的名称，或者如果该方法不存在则为 <a class="reference internal" href="#ast.NodeVisitor.generic_visit" title="ast.NodeVisitor.generic_visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code></a>。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ast.NodeVisitor.generic_visit">
<span class="sig-name descname"><span class="pre">generic_visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NodeVisitor.generic_visit" title="永久链接至目标">¶</a></dt>
<dd><p>该访问器会在节点的所有子节点上调用 <a class="reference internal" href="#ast.NodeVisitor.visit" title="ast.NodeVisitor.visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit()</span></code></a>。</p>
<p>请注意所有包含自定义访问器方法的节点的子节点将不会被访问除非访问器调用了 <a class="reference internal" href="#ast.NodeVisitor.generic_visit" title="ast.NodeVisitor.generic_visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code></a> 或是自行访问它们。</p>
</dd></dl>

<p>如果你想在遍历期间应用对节点的修改则请不要使用 <a class="reference internal" href="#ast.NodeVisitor" title="ast.NodeVisitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code></a>。 对此目的可使用一个允许修改的特殊访问器 (<a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a>)。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">3.8 版后已移除: </span><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Num()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Str()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Bytes()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_NameConstant()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Ellipsis()</span></code> 等方法现在已被弃用且在未来的 Python 版本中将不会再被调用。 请添加 <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Constant()</span></code> 方法来处理所有常量节点。</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NodeTransformer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NodeTransformer</span></span><a class="headerlink" href="#ast.NodeTransformer" title="永久链接至目标">¶</a></dt>
<dd><p>子类 <a class="reference internal" href="#ast.NodeVisitor" title="ast.NodeVisitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code></a>  用于遍历抽象语法树，并允许修改节点。</p>
<p><a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a> 将遍历抽象语法树并使用visitor方法的返回值去替换或移除旧节点。如果visitor方法的返回值为 <code class="docutils literal notranslate"><span class="pre">None</span></code> , 则该节点将从其位置移除，否则将替换为返回值。当返回值是原始节点时，无需替换。</p>
<p>如下是一个转换器示例，它将所有出现的名称 (<code class="docutils literal notranslate"><span class="pre">foo</span></code>) 重写为 <code class="docutils literal notranslate"><span class="pre">data['foo']</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RewriteName</span><span class="p">(</span><span class="n">NodeTransformer</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">visit_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Subscript</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span>
            <span class="nb">slice</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">ctx</span>
        <span class="p">)</span>
</pre></div>
</div>
<p>请记住，如果您正在操作的节点具有子节点，则必须先转换其子节点或为该节点调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code>  方法。</p>
<p>对于属于语句集合（适用于所有语句节点）的节点，访问者还可以返回节点列表而不仅仅是单个节点。</p>
<p>如果 <a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a> 引入了新的（不属于原节点树一部分的）节点而没有给出它们的位置信息（如 <code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code> 等），则应当调用 <a class="reference internal" href="#ast.fix_missing_locations" title="ast.fix_missing_locations"><code class="xref py py-func docutils literal notranslate"><span class="pre">fix_missing_locations()</span></code></a> 并传入新的子节点树来重新计算位置信息:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="n">new_tree</span> <span class="o">=</span> <span class="n">fix_missing_locations</span><span class="p">(</span><span class="n">RewriteName</span><span class="p">()</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
</pre></div>
</div>
<p>通常你可以像这样使用转换器:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">YourTransformer</span><span class="p">()</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.dump">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotate_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.dump" title="永久链接至目标">¶</a></dt>
<dd><p>返回 <em>node</em> 中树结构的格式化转储。 这主要适用于调试目的。 如果 <em>annotate_fields</em> 为真值（默认），返回的字符串将显示字段的名称和值。 如果 <em>annotate_fields</em> 为假值，结果字符串将通过省略无歧义的字段名称变得更为紧凑。 默认情况下不会转储行号和列偏移等属性。 如果需要，可将 <em>include_attributes</em> 设为真值。</p>
<p>如果 <em>indent</em> 是一个非负整数或者字符串，那么节点树将被美化输出为指定的缩进级别。 如果缩进级别为 0、负数或者 <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> 则将只插入换行符。  <code class="docutils literal notranslate"><span class="pre">None</span></code> (默认) 将选择最紧凑的表示形式。 使用一个正整数将让每个级别缩进相应数量的空格。 如果 <em>indent</em> 是一个字符串 (如 <code class="docutils literal notranslate"><span class="pre">&quot;\t&quot;</span></code>)，该字符串会被用于缩进每个级别。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版更改: </span>添加了 <em>indent</em> 选项。</p>
</div>
</dd></dl>

</section>
<section id="compiler-flags">
<span id="ast-compiler-flags"></span><h2>编译器旗标<a class="headerlink" href="#compiler-flags" title="永久链接至标题">¶</a></h2>
<p>下列旗标可被传给 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 用来改变程序编译的效果:</p>
<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_ALLOW_TOP_LEVEL_AWAIT">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_ALLOW_TOP_LEVEL_AWAIT</span></span><a class="headerlink" href="#ast.PyCF_ALLOW_TOP_LEVEL_AWAIT" title="永久链接至目标">¶</a></dt>
<dd><p>启用对最高层级 <code class="docutils literal notranslate"><span class="pre">await</span></code>, <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> 以及异步推导式的支持。</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_ONLY_AST">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_ONLY_AST</span></span><a class="headerlink" href="#ast.PyCF_ONLY_AST" title="永久链接至目标">¶</a></dt>
<dd><p>生成并返回一个抽象语法树而不是返回一个已编译的代码对象。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_TYPE_COMMENTS">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_TYPE_COMMENTS</span></span><a class="headerlink" href="#ast.PyCF_TYPE_COMMENTS" title="永久链接至目标">¶</a></dt>
<dd><p>启用对 <span class="target" id="index-15"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 和 <span class="target" id="index-16"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> 风格的类型注释的支持 (<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">&lt;type&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span> <span class="pre">&lt;stuff&gt;</span></code>)。</p>
<div class="versionadded">
<p><span class="versionmodified added">3.8 新版功能.</span></p>
</div>
</dd></dl>

</section>
<section id="command-line-usage">
<span id="ast-cli"></span><h2>命令行用法<a class="headerlink" href="#command-line-usage" title="永久链接至标题">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">3.9 新版功能.</span></p>
</div>
<p><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模块可以在命令行下作为脚本来执行。 具体做法非常简单:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python -m ast <span class="o">[</span>-m &lt;mode&gt;<span class="o">]</span> <span class="o">[</span>-a<span class="o">]</span> <span class="o">[</span>infile<span class="o">]</span>
</pre></div>
</div>
<p>可以接受以下选项：</p>
<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-ast-h">
<span id="cmdoption-ast-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-h" title="永久链接至目标">¶</a></dt>
<dd><p>显示帮助信息并退出。</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-ast-m">
<span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;</span></span><a class="headerlink" href="#cmdoption-ast-m" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-ast-mode">
<span class="sig-name descname"><span class="pre">--mode</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;</span></span><a class="headerlink" href="#cmdoption-ast-mode" title="永久链接至目标">¶</a></dt>
<dd><p>指明哪种代码必须被编译，相当于 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> 中的 <em>mode</em> 参数。</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-ast-no-type-comments">
<span class="sig-name descname"><span class="pre">--no-type-comments</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-no-type-comments" title="永久链接至目标">¶</a></dt>
<dd><p>不要解析类型注释。</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-ast-a">
<span id="cmdoption-ast-include-attributes"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--include-attributes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-a" title="永久链接至目标">¶</a></dt>
<dd><p>包括属性如行号和列偏移。</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-ast-i">
<span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;indent&gt;</span></span><a class="headerlink" href="#cmdoption-ast-i" title="永久链接至目标">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-ast-indent">
<span class="sig-name descname"><span class="pre">--indent</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;indent&gt;</span></span><a class="headerlink" href="#cmdoption-ast-indent" title="永久链接至目标">¶</a></dt>
<dd><p>AST 中节点的缩进（空格数）。</p>
</dd></dl>

<p>如果指定了 <code class="file docutils literal notranslate"><span class="pre">infile</span></code> 则其内容将被解析为 AST 并转储至 stdout。 在其他情况下，将从 stdin 读取内容。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://greentreesnakes.readthedocs.io/">Green Tree Snakes</a>，一个外部文档资源，包含处理 Python AST 的完整细节。</p>
<p><a class="reference external" href="https://asttokens.readthedocs.io/en/latest/user-guide.html">ASTTokens</a> 会为 Python AST 标注生成它们的源代码中的形符和文本的位置。 这对执行源代码转换的工具很有帮助。</p>
<p><a class="reference external" href="https://leoeditor.com/appendices.html#leoast-py">leoAst.py</a> unifies the
token-based and parse-tree-based views of python programs by inserting
two-way links between tokens and ast nodes.</p>
<p><a class="reference external" href="https://libcst.readthedocs.io/">LibCST</a> 将代码解析为一个实体语法树（Concrete Syntax Tree），它看起来像是 ast 树而又保留了所有格式化细节。 它对构建自动化重构（codemod）应用和代码质量检查工具很有用处。</p>
<p><a class="reference external" href="https://parso.readthedocs.io">Parso</a> 是一个支持错误恢复和不同 Python 版本的（在多个 Python 版本中）往返解析的 Python 解析器。 Parso 还能列出你的 Python 文件中的许多错误。</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象语法树</a><ul>
<li><a class="reference internal" href="#abstract-grammar">抽象文法</a></li>
<li><a class="reference internal" href="#node-classes">节点类</a><ul>
<li><a class="reference internal" href="#literals">字面值</a></li>
<li><a class="reference internal" href="#variables">变量</a></li>
<li><a class="reference internal" href="#expressions">表达式</a><ul>
<li><a class="reference internal" href="#subscripting">抽取</a></li>
<li><a class="reference internal" href="#comprehensions">推导式</a></li>
</ul>
</li>
<li><a class="reference internal" href="#statements">语句</a><ul>
<li><a class="reference internal" href="#imports">导入</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-flow">控制流</a></li>
<li><a class="reference internal" href="#pattern-matching">模式匹配</a></li>
<li><a class="reference internal" href="#function-and-class-definitions">函数与类定义</a></li>
<li><a class="reference internal" href="#async-and-await">async 与 await</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ast-helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> 中的辅助函数</a></li>
<li><a class="reference internal" href="#compiler-flags">编译器旗标</a></li>
<li><a class="reference internal" href="#command-line-usage">命令行用法</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="language.html"
                          title="上一章">Python 语言服务</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="symtable.html"
                          title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code> ——访问编译器的符号表</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">提交 Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/ast.rst"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="symtable.html" title="symtable ——访问编译器的符号表"
             >下一页</a> |</li>
        <li class="right" >
          <a href="language.html" title="Python 语言服务"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.11.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="language.html" >Python 语言服务</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象语法树</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权所有</a> 2001-2022, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="/license.html">History and License</a> for more information.<br />
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    最后更新于 11月 24, 2022.
    <a href="/bugs.html">Found a bug</a>?
    <br />

    由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0创建。
    </div>

  </body>
</html>